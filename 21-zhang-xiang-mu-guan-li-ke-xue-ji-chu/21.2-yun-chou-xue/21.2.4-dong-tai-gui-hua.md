# 21.2.4 动态规划

### 有趣的案例

假设你是一个旅行者，你打算在一个五天的假期中游览北京、上海、广州和深圳四个城市。你可以在任何一个城市开始你的旅行，然后每天选择前往下一个城市或者留在当前城市。

每个城市都有不同的旅游景点，你在每个城市的每一天都可以获得不同的旅游体验值。比如，你在北京的第一天可以获得10点的体验值，第二天可以获得7点，第三天可以获得5点，以此类推。其他城市也有类似的体验值。

你的目标是规划你的旅行路线，使得你的总体验值最大。

这就是一个典型的动态规划问题。你需要在有限的时间内，找到最优的决策序列（也就是旅行路线），以实现你的目标（最大化总体验值）。

你可以用动态规划的方法来解决这个问题。首先，你需要定义一个状态，表示你在每一天结束时所在的城市和你的总体验值。然后，你需要定义一个决策，表示你在每一天的行动（前往下一个城市或者留在当前城市）。最后，你需要定义一个转移函数，表示你的状态如何因为你的决策而改变。

通过求解这个动态规划问题，你可以找到最优的旅行路线，也就是在每一天应该做什么决策，以使得你的总体验值最大。



首先，我们需要定义一个状态dp\[i]\[j]，表示在第i天结束时，你在城市j，你的总体验值。

然后，我们需要定义一个决策，表示你在每一天的行动。你可以选择留在当前城市，也可以选择前往下一个城市。如果你选择留在当前城市，你的体验值会增加当前城市的体验值；如果你选择前往下一个城市，你的体验值会增加下一个城市的体验值。

我们的目标是找到一个决策序列，使得在第五天结束时，你的总体验值最大。

我们可以用动态规划的方法来求解这个问题。我们从第一天开始，对于每一天，我们都尝试所有可能的决策，然后根据我们的决策更新我们的状态。我们重复这个过程，直到我们到达第五天。

假设我们得到的最优解是：第一天在北京，第二天前往上海，第三天留在上海，第四天前往广州，第五天前往深圳。这意味着，你应该按照这个路线进行旅行，这样你可以得到最大的总体验值。

这就是动态规划的魔力，它可以帮助你找到最优的决策序列，即使你面临的选择非常复杂。

